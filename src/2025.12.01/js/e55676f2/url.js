(()=>{this.enable_on_video = true /*If false, VK_video-q also needs to be disabled*/; const t=this.node, n=t.IMGS_TRG||t, l_id=$[4]||$[7]||!n.href&&(n.closest('div[class^="ui_gallery__inner"]')?.querySelector('div[data-list-id]')?.getAttribute('data-list-id')||n.closest('.post_info')?.querySelector('div[class^="PostBottomAction PostBottomAction--transparent PostButtonReactions"]')?.getAttribute('data-reaction-target-object')), p_id=$[8]||!n.href&&(n.closest('div[class^="ui_gallery__inner"]')?.querySelector('div[data-photo-id]')?.getAttribute('data-photo-id')||n.parentNode?.href?.match(/photo(-\d+_\d+)/)?.[1]);if(!this.enable_on_video&&($[3]||$[6]))throw '';return $[1] ? '//vk.com/'+$[1] : $[6]&&!n.closest('.vkuiCarouselBase__slide')&&!n.closest('.vkitBaseGallery__slide--JhgoZ')&&(/^vkitMediaGridImage__image--\w+ vkitOverlay__root--\w+$/.test(n.getAttribute('class'))||n.parentNode?.getAttribute('data-video')||n.getAttribute('data-list'))||$[9] ? 'data:,'+($[6]||$[9]) : !$[2]&&!$[3]&&!$[5]&&!n.getAttribute('data-list')&&n.parentNode?.className!=='lnk'&&n.className!=='MediaGrid__imageElement'&&($[6]||l_id) ? 'https://vk.com/al_photos.php?act=show :act=show&al=1'+(l_id?'&list='+l_id:'')+(p_id?'&photo='+p_id:'') : $[0]})()